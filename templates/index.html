<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>おみくじ</title>
    <style>
            body {
                text-align: center;
                font-family: "Hiragino Kaku Gothic ProN", "メイリオ", sans-serif;
                background-image: url("/static/shrine.jpg");
                background-size: cover;
                background-position: center;
                background-repeat: no-repeat;
            }

             .container {
                position: relative;
                width: 60%;
                margin: 60px auto;
                padding: 30px;
                background-color: rgba(200, 200, 200, 0.35);
                border-radius: 20px;
            }

            .fortune-box {
                margin-top: 30px;
                min-height: 260px;
                background-color: rgba(200, 200, 200, 0.4);
                border-radius: 16px;
                padding: 20px;
            }

            .outline {
               color: inherit;
               text-shadow:
                   -5px -5px 0 #fff,
                     0     -2px 0 #fff,
                     5px -5px 0 #fff,
                   -2px   0     0 #fff,
                     2px   0     0 #fff,
                   -5px   5px  0 #fff,
                     0      2px  0 #fff,
                     5px  5px  0 #fff;
            }

            h1 {
              margin-top: 50px;
            }

            h2 {
              font-size: 60px;
            }

            p {
              margin: 0;
            }

            button {
               font-size: 18px;
               padding: 10px 20px;
               margin-top: 0px;
               font-weight: bold;
            }

            .history-link {
                margin-top: 30px;
            }

            .history-link a {
                display: inline-block;
                padding: 10px 20px;
                background-color: rgba(255, 255, 255, 0.85);
                color: #333;
                text-decoration: none;
                border-radius: 8px;
            }

            .history-link a:hover {
                background-color: white;
            }

            .result-area {
                height: 140px;
                display: flex;
                justify-content: center;
                align-items: center;
            }

            .daikichi {
                color: red;
                font-size: 85px;
                font-weight: bold;
            }
            .kichi {
                color: orange;
                font-size: 80px;
                font-weight: bold;
            }
            .chukichi {
                color: yellowgreen;
                font-size: 75px;
                font-weight: bold;
            }
            .shokichi {
                color: deepskyblue;
                font-size: 75px;
                font-weight: bold;
            }
            .kyo {
                color: purple;
                font-size: 80px;
                font-weight: bold;
            }
            .daikyo {
                color: black;
                font-size: 85px;
                font-weight: bold;
            }
        </style>
</head>
<body>
    <div class="container">
        <h1 class="outline"></h1>

        <form action="/draw" method="get">
            <button type="submit">おみくじを引く</button>
        </form>

        <div class="history-link">
            <a href="/history">履歴を見る</a>
        </div>

        <div class="fortune-box">
            <div class="fortune-title">
                {% if result %}
                <svg
                    width="100%"
                    height="80"
                    viewBox="0 0 400 80"
                    preserveAspectRatio="xMidYMid meet"
                    style="margin-top: 20px; display: block;"
                >
                    <text
                        x="50%"
                        y="40"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="45"
                        font-weight="bold"
                        fill="#333"
                        stroke="white"
                        stroke-width="8"
                        paint-order="stroke fill"
                    >
                        あなたの運勢
                    </text>
                </svg>
                {% endif %}
            </div>

            <div class="result-area">
                    {% if result %}
                    <svg width="300" height="120" viewBox="0 0 300 120">
                        <text
                            x="150"
                            y="50"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="85"
                            font-weight="bold"
                            fill="
                                {% if result == '大吉' %}red
                                {% elif result == '吉' %}orange
                                {% elif result == '中吉' %}yellowgreen
                                {% elif result == '小吉' %}deepskyblue
                                {% elif result == '凶' %}purple
                                {% elif result == '大凶' %}black
                                {% endif %}
                            "
                            stroke="white"
                            stroke-width="12"
                            paint-order="stroke fill"
                        >
                            {{ result }}
                        </text>
                    </svg>
                    {% endif %}
                </div>
            </div>
</body>
</html>